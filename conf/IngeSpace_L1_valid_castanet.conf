; Default configuration file
; You can define your own receiver and invoke it by doing
; gnss-sdr --config_file=my_GNSS_SDR_configuration.conf
;

[GNSS-SDR]

;######### GLOBAL OPTIONS ##################
;internal_fs_hz: Internal signal sampling frequency after the signal conditioning stage [Hz].
GNSS-SDR.internal_fs_sps=4000000
Enable Reflectometry = true
Number of correlators (reflected way) = 1
;If it is an ingespace input file, set format = true to separate the inputs files
Interleaved Direct and Reflected format = true
Interleaved Direct and Reflected bit = 4
data input filename = /home/sergi/gnss-sdr-2019/gnss-sdr/data/file_2016-10-19T13-36-22.data
;Enable correlation without delay
Calibration Output = 0
;#No Elevation
Receiver Height = 2
; # LHCP - RHCP 
; Enable or disable multi reflected ways (for LHCP AND RHCP use)
; 1 = LHCP 
; 2 = LHCP + RHCP
Number of reflected ways = 1
OUTPUT_FILTER size = 500
OUTPUT_FILTER enable = true
;Mettre le filePath
REFLECTOMETRY dumpfilename=./output/





;######### A-GPS configuration #####
id=net.its_here.cellidinfo&hl=en
GNSS-SDR.SUPL_gps_enabled=false
GNSS-SDR.SUPL_read_gps_assistance_xml=false
GNSS-SDR.SUPL_gps_ephemeris_server=supl.google.com
GNSS-SDR.SUPL_gps_ephemeris_port=7275
GNSS-SDR.SUPL_gps_acquisition_server=supl.google.com
GNSS-SDR.SUPL_gps_acquisition_port=7275
GNSS-SDR.SUPL_MCC=244
GNSS-SDR.SUPL_MNS=5
GNSS-SDR.SUPL_LAC=0x59e2
GNSS-SDR.SUPL_CI=0x31b0

;######################################################
;################### SIGNAL SOURCE ####################
;######################################################
;######### SIGNAL_SOURCE CONFIG ############
;#implementation: Use [File_Signal_Source] or [UHD_Signal_Source] or [GN3S_Signal_Source] (experimental)
SignalSource.implementation=File_Signal_Source
SignalSource.filename=/home/sergi/gnss-sdr-2019/gnss-sdr/data/file_2016-10-19T13-36-22.data
SignalSource.RF_channels = 1
SignalSource.item_type=byte
SignalSource.sample_type=iq
SignalSource.sampling_frequency=4000000
SignalSource.freq=1575420000
SignalSource.gain=0
SignalSource.samples=0
SignalSource.AGC=true

;######### REFLECTED LHCP SIGNAL_SOURCE CONFIG ############
Reflected_LHCP_SignalSource.implementation=File_Signal_Source
Reflected_LHCP_SignalSource.RF_channels = 1
Reflected_LHCP_SignalSource.item_type=byte
Reflected_LHCP_SignalSource.sample_type=iq 
Reflected_LHCP_SignalSource.sampling_frequency=4000000
Reflected_LHCP_SignalSource.freq=1575420000
Reflected_LHCP_SignalSource.gain=0
Reflected_LHCP_SignalSource.samples=0
Reflected_LHCP_SignalSource.AGC=true


;######################################################
;################ SIGNAL CONDITIONER ##################
;######################################################

;######### SIGNAL_CONDITIONER 0 CONFIG ############
;## It holds blocks to change data type, filter and resample input data. 
SignalConditioner0.implementation=Signal_Conditioner
DataTypeAdapter0.implementation=Ibyte_To_Complex
InputFilter0.implementation=Pass_Through
InputFilter0.dump=false
InputFilter0.input_item_type=gr_complex
InputFilter0.output_item_type=gr_complex
InputFilter0.taps_item_type=float
;Resampler0.implementation=Direct_Resampler
Resampler0.implementation=Pass_Through
;Resampler0.item_type=gr_complex
;Resampler0.sample_freq_in=20000000
;Resampler0.sample_freq_out=4000000

;######################################################
;################## CHANNEL CONFIG ####################
;######################################################

Channels_1C.count=1
Channels.in_acquisition=1
Channel.signal=1C
;Channel0.system=GPS
;Channel.signal=1C
;Channel0.signal=1C
;Channel0.satellite=1
;Channel1.satellite=3
;Channel2.satellite=8
;Channel3.satellite=9
;Channel4.satellite=17
;Channel5.satellite=31

;#signal: 
;# "1C" GPS L1 C/A
;# "2S" GPS L2 L2C (M)
;# "1B" GALILEO E1 B (I/NAV OS/CS/SoL)
;# "5X" GALILEO E5a I+Q

;# CHANNEL CONNECTION

;######### ACQUISITION GLOBAL CONFIG ############
Acquisition_1C.dump=false
Acquisition_1C.dump_filename=./acq_dump.dat
Acquisition_1C.item_type=gr_complex
Acquisition_1C.if=0
;#sampled_ms: Signal block duration for the acquisition signal detection [ms]
Acquisition_1C.coherent_integration_time_ms=4
;#implementation: Acquisition algorithm selection for this channel: [GPS_L1_CA_PCPS_Acquisition] or [Galileo_E1_PCPS_Ambiguous_Acquisition]
;Acquisition_1C.implementation=GPS_L1_CA_PCPS_Acquisition_Fine_Doppler
Acquisition_1C.implementation=GPS_L1_CA_PCPS_Acquisition
;#threshold: Acquisition threshold. It will be ignored if pfa is defined.
;Acquisition_1C.threshold=0.007
;#pfa: Acquisition false alarm probability. This option overrides the threshold option. Only use with implementations: [GPS_L1_CA_PCPS_Acquisition] or [Galileo_E1_PCPS_Ambiguous_Acquisition]
Acquisition_1C.pfa=0.000001
;#doppler_max: Maximum expected Doppler shift [Hz]
Acquisition_1C.doppler_max=6000
Acquisition_1C.doppler_min=-4000
;#doppler_max: Doppler step in the grid search [Hz]
Acquisition_1C.doppler_step=100
;#bit_transition_flag: Enable or disable a strategy to deal with bit transitions in GPS signals: process two dwells and take
;#maximum test statistics. Only use with implementation: [GPS_L1_CA_PCPS_Acquisition] 
;#(should not be used for Galileo_E1_PCPS_Ambiguous_Acquisition])
Acquisition_1C.bit_transition_flag=false
;#max_dwells: Maximum number of consecutive dwells to be processed. It will be ignored if bit_transition_flag=true
Acquisition_1C.max_dwells=2

;######### TRACKING GLOBAL CONFIG ############
;#implementation: Selected tracking algorithm: [GPS_L1_CA_DLL_PLL_Tracking] or [GPS_L1_CA_DLL_FLL_PLL_Tracking]
Tracking_1C.implementation = GPS_L1_CA_DLL_PLL_Tracking_Reflectometry
;Tracking_1C.implementation=GPS_L1_CA_KF_Tracking
Tracking_1C.item_type=gr_complex
Tracking_1C.if=0
Tracking_1C.pll_bw_hz=10.0;
Tracking_1C.dll_bw_hz=0.5;
Tracking_1C.fll_bw_hz=20.0;
Tracking_1C.order=3;
Tracking_1C.dump = true;
Tracking_1C.early_late_space_chips=0.5;

;######### TELEMETRY DECODER GPS L1 CONFIG ############
;#implementation: Use [GPS_L1_CA_Telemetry_Decoder] for GPS L1 C/A
TelemetryDecoder_1C.implementation=GPS_L1_CA_Telemetry_Decoder
TelemetryDecoder_1C.dump=false


;######### OBSERVABLES CONFIG ############
;#implementation: Use [GPS_L1_CA_Observables] for GPS L1 C/A.Mixed_Observables
;Observables.implementation=GPS_L1_CA_Observables
Observables.implementation=Hybrid_Observables
;#dump: Enable or disable the Observables internal binary data file logging [true] or [false] 
;Observables.dump=false
;#dump_filename: Log path and filename.
;Observables.dump_filename=./output/observables.dat


;######### PVT CONFIG ############
PVT.implementation=RTKLIB_PVT
PVT.positioning_mode=Single
PVT.output_rate_ms=10
PVT.display_rate_ms=500
PVT.iono_model=Broadcast
PVT.trop_model=Saastamoinen
PVT.flag_rtcm_server=true
PVT.flag_rtcm_tty_port=false
PVT.rtcm_dump_devname=/dev/pts/1
PVT.rtcm_tcp_port=2101
PVT.rtcm_MT1019_rate_ms=5000
PVT.rtcm_MT1077_rate_ms=1000
PVT.rinex_version=2

;#implementation: Position Velocity and Time (PVT) implementation algorithm: Use [GPS_L1_CA_PVT] in this version.
;PVT.implementation=GPS_L1_CA_PVT
;#averaging_depth: Number of PVT observations in the moving average algorithm (en PVT.output_rate !)
;PVT.averaging_depth=20
;#flag_average: Enables the PVT averaging between output intervals (arithmetic mean) [true] or [false] 
;PVT.flag_averaging=true
;#output_rate_ms: Period between two PVT outputs. Notice that the minimum period is equal to the tracking integration time (for GPS CA L1 is 1ms) [ms]
;PVT.output_rate_ms=100
;#display_rate_ms: Position console print (std::out) interval [ms]. Notice that output_rate_ms<=display_rate_ms.
;PVT.display_rate_ms=1000
;# RINEX, KML, and NMEA output configuration
;# Directory to store RINEX files
;PVT.RINEX_directory = ./output/
;#dump: Enable or disable the PVT internal binary data file logging [true] or [false] 
;PVT.dump=true
;#dump_filename: Log path and filename without extension. Notice that PVT will add ".dat" to the binary dump and ".kml" to GoogleEarth dump.
;PVT.dump_filename_timeVSsample=./output/_timeVSsample.data
;PVT.nmea_dump_filename=./output/_nmea_pvt.nmea
;PVT.nmea_dump_devname =./output/_tty1


;######### OUTPUT_FILTER CONFIG ############
;# Receiver output filter: Leave this block disabled in this version
OutputFilter.implementation=Null_Sink_Output_Filter
OutputFilter.filename=./output/gnss-sdr.dat
OutputFilter.item_type=gr_complex
